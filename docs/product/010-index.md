---
title: Описание
---

# autumn-data

[![Тестирование](https://github.com/autumn-library/autumn-data/actions/workflows/test.yml/badge.svg?branch=master)](https://github.com/autumn-library/autumn-data/actions/workflows/test.yml)

`autumn-data` - это библиотека для простого подключения и работы с базами данных в осенних проектах (autumn framework). Библиотека предоставляет ORM-подобную функциональность с автоматической генерацией методов запросов на основе имен методов.

## Установка

Для установки библиотеки используйте команду:

```sh
opm install autumn-data
```

## Описание

Библиотека `autumn-data` предоставляет следующие возможности:

- **Аннотации сущностей** - маркировка классов как сущностей базы данных
- **Репозитории сущностей** - создание хранилищ для работы с сущностями
- **Автогенерация запросов** - автоматическое создание методов запросов на основе имен методов
- **Интеграция с autumn** - полная интеграция с контейнером зависимостей autumn
- **Поддержка множественных источников данных** - возможность работы с несколькими базами данных

## Быстрый старт

### 1. Определение сущности

```1c
&Идентификатор
&Колонка(Тип = "Целое")
Перем Идентификатор Экспорт;

&Колонка(Тип = "Строка", Длина = 100)
Перем Имя Экспорт;

&Сущность(ИмяТаблицы = "Пользователи")
Процедура ПриСозданииОбъекта()
КонецПроцедуры
```

### 2. Создание хранилища сущностей

```1c
&Родитель
Перем ХранилищеСущностей;

&МетодЗапроса
Функция НайтиПоИмениРавно(Имя) Экспорт
    Возврат Неопределено; // Тело метода будет сгенерировано автоматически
КонецФункции

&МетодЗапроса  
Функция ПолучитьВсе() Экспорт
    Возврат Неопределено; // Тело метода будет сгенерировано автоматически
КонецФункции

&ХранилищеСущностей("Пользователь")
Процедура ПриСозданииОбъекта()
КонецПроцедуры
```

### 3. Настройка источника данных

```1c
// В конфигурации autumn приложения
СоветДругогоМастера = Новый СоветДругогоМастера()
    .Деталька("data.ИсточникиДанных", Новый Соответствие()
        .Вставить("ТипКоннектора", "КоннекторSqlite")
        .Вставить("СтрокаСоединения", "Data Source=database.db")
    );
```

### 4. Использование

```1c
Поделка = Новый Поделка(СоветДругогоМастера);
Поделка.ЗапуститьПриложение();

ХранилищеПользователей = Поделка.НайтиЖелудь("ХранилищеПользователей");
Пользователь = ХранилищеПользователей.НайтиПоИмениРавно("Иван");
```

## Основные концепции

### Сущности

Сущности - это классы, которые представляют таблицы в базе данных. Они помечаются аннотацией `&Сущность`.

### Хранилища сущностей

Хранилища - это классы-репозитории, которые предоставляют методы для работы с сущностями. Они помечаются аннотацией `&ХранилищеСущностей`.

### Методы запросов

Методы, помеченные аннотацией `&МетодЗапроса`, автоматически получают реализацию на основе своего имени. Поддерживаются различные паттерны имен методов для создания запросов.

## Дальнейшее изучение

### Руководство пользователя
- [Настройка источников данных](020-configuration.md) - конфигурация подключений к БД
- [Методы запросов](030-query-methods.md) - автогенерация методов на основе имен
- [Продвинутое использование](040-advanced.md) - сложные сценарии и интеграция

### Справочник API
- [Полный API справочник](../api/index.md)
- [МетодЗапроса](../api/Аннотации/МетодЗапроса.md) - автогенерация реализации методов запросов
- [ХранилищеСущностей](../api/Аннотации/ХранилищеСущностей.md) - создание репозиториев для сущностей
- [ЗаготовкаОсеньДата](../api/Классы/ЗаготовкаОсеньДата.md) - основной конфигуратор библиотеки
- [НапильникХранилищеСущностей](../api/Классы/НапильникХранилищеСущностей.md) - процессор автогенерации методов

## Лицензия

Этот проект лицензируется под лицензией MIT. Подробности см. в файле LICENSE.md.